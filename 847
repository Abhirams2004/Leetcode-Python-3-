class Solution:
    def shortestPathLength(self, graph: List[List[int]]) -> int:
        n = len(graph)
        visited = set()
        goal= (1 << n) - 1
        q = deque()
        ans = 0

        for i in range(n):
            q.append((i,1<<i))
        while q:
            for _ in range(len(q)):
                node , state = q.popleft()
                if (node , state)  in visited:
                    continue
                if state == goal:
                    return ans
                visited.add((node,state))
                for nei in graph[node]:
                    q.append((nei, state | 1 << nei))
            ans += 1
        
        return -1

        
